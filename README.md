# 【前端】大文件上传的解决方案

1、暂时设置一个切片大小为10kb。（具体数值可配，或者动态计算一个切片应该多大合适）

2、文件分割为一个个的小文件（切片）。

  - 如果以文件名后面加`-${index}`来标示每一个切片名的话，

  - 所以要生成文件的hash，以文件hash来作为唯一标识，解决文件名不确定性的问题。

3、切片上传。

4、全部上传完成后，切片合并为一个完整的文件。

5、【补充功能】显示上传进度条。
上传进度包含两个：一个是每个切片的上传进度，另一个是整个文件的上传进度。而整个文件的上传进度是基于每个切片上传进度计算而来，所以我们先实现切片的上传进度。

为了能看到每个切片的上传的进度，所以把每个切片的大小设置大一点，10kb太小了，一下就上传完了，看不到进度。
我们把每个切片的大小设置为2M，同时，选一个大点的文件来试试。



<!-- source: https://juejin.cn/post/6844904046436843527 -->